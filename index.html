<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sincerely, Her | A Chic Lifestyle Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #FDFBF8; /* Off-white, parchment color */
            color: #333333;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 700;
        }
        .nav-link {
            @apply text-gray-700 hover:text-black transition duration-300 uppercase tracking-wider text-sm flex items-center;
        }
        .btn-primary {
             @apply bg-stone-800 text-white py-3 px-8 rounded-full hover:bg-black transition duration-300 uppercase tracking-widest text-xs disabled:bg-stone-400;
        }
        .ai-result {
            white-space: pre-wrap;
            background-color: #f9fafb;
            border-left: 4px solid #e5e7eb;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
            font-size: 0.9rem;
            line-height: 1.6;
            color: #374151;
        }
        .prose ul {
            list-style-position: inside;
        }
        .prose ol {
            list-style-position: inside;
        }
        .slider-button {
            @apply absolute top-1/2 -translate-y-1/2 bg-white/80 rounded-full p-2 shadow-md hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-opacity;
        }
        /* Hide scrollbar for the gallery */
        #slider-container::-webkit-scrollbar {
            display: none;
        }
        #slider-container {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body>

    <!-- Header & Navigation -->
    <header class="bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-5 flex justify-between items-center">
            <a href="#" id="home-link" class="text-4xl font-bold tracking-tighter text-black">Sincerely, Her</a>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#style" class="nav-link main-nav-link">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.47 2.118v-.09a2.25 2.25 0 0 1 2.47-2.118c1.073 0 2.062-.379 2.87-1.128a3.001 3.001 0 0 0 5.78 1.128v-.09a2.25 2.25 0 0 1-2.47 2.118c-1.073 0-2.062-.379-2.87-1.128Zm-7.53-4.28a3 3 0 0 0 5.78-1.128 2.25 2.25 0 0 1 2.47-2.118v.09a2.25 2.25 0 0 1-2.47 2.118c-1.073 0-2.062.379-2.87 1.128a3.001 3.001 0 0 0-5.78-1.128v.09a2.25 2.25 0 0 1 2.47-2.118c1.073 0 2.062.379 2.87 1.128Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c.249 0 .497-.009.741-.025M12 21a9.004 9.004 0 0 1-8.716-6.747M12 3c-4.816 0-8.716 3.9-8.716 8.747M12 3c4.816 0 8.716 3.9 8.716 8.747M12 3c.249 0 .497.009.741-.025M12 3a9.004 9.004 0 0 1 8.716 6.747"></path></svg>
                    Style
                </a>
                <a href="#wellness" class="nav-link main-nav-link">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"></path></svg>
                    Wellness
                </a>
                <a href="#period-care" class="nav-link main-nav-link">
                   <svg class="w-5 h-5 mr-2" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9"></path></svg>
                    Period Care
                </a>
                <a href="#gallery" class="nav-link main-nav-link">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"></path></svg>
                    Gallery
                </a>
                <a href="#booking" class="nav-link main-nav-link">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.76 9.76 0 0 1-2.53-.388M21 12c0-4.556-4.03-8.25-9-8.25-4.418 0-8.165 3.13-8.862 7.25M12 21a8.25 8.25 0 0 1-8.25-8.25M12 21a8.25 8.25 0 0 0 8.25-8.25M3 7.5l3 3m0 0l3-3m-3 3v-6m-1.5-1.5H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"></path></svg>
                    Book a Chat
                </a>
            </div>
            <button id="mobile-menu-button" class="md:hidden flex items-center">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#style" class="block py-2 nav-link main-nav-link">Style</a>
            <a href="#wellness" class="block py-2 nav-link main-nav-link">Wellness</a>
            <a href="#period-care" class="block py-2 nav-link main-nav-link">Period Care</a>
            <a href="#gallery" class="block py-2 nav-link main-nav-link">Gallery</a>
            <a href="#booking" class="block py-2 nav-link main-nav-link">Book a Chat</a>
        </div>
    </header>

    <!-- Main Content Wrapper -->
    <div id="main-content">
        <!-- Hero Section -->
        <section class="container mx-auto px-6 py-20 md:py-32 flex flex-col md:flex-row items-center">
            <div class="md:w-1/2 text-center md:text-left mb-10 md:mb-0">
                <h1 class="text-6xl md:text-7xl leading-tight mb-4">Finding the Shine in the Everyday</h1>
                <p class="text-lg text-gray-600 max-w-lg mx-auto md:mx-0">For the woman balancing a career, wellness, and a love for cooking. This is a space for finding motivation and classic style in the midst of a beautifully busy life.</p>
            </div>
            <div class="md:w-1/2">
                <img src="https://res.cloudinary.com/dbco5pn5v/image/upload/v1752723834/chic_mood_eg9uxq.png" alt="Chic fashion moodboard" class="rounded-lg shadow-xl w-full max-w-md mx-auto">
            </div>
        </section>

        <div class="container mx-auto px-6 py-12">
            <!-- Style Section -->
            <section id="style" class="mb-20 scroll-mt-20">
                 <h2 class="text-5xl font-bold mb-10 text-center">The Daily Edit: Style</h2>
                <div class="grid md:grid-cols-3 gap-8 mb-16">
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden group"><img src="https://res.cloudinary.com/dbco5pn5v/image/upload/v1752720664/Monochrome_e8evxv.png" alt="Woman in a chic monochrome outfit on a city street" class="w-full h-96 object-cover group-hover:scale-105 transition-transform duration-500"><div class="p-6"><h3 class="text-2xl font-bold mb-2">City Monochrome</h3><p class="text-gray-600">Effortless sophistication with tailored trousers and a classic trench.</p></div></div>
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden group"><img src="https://res.cloudinary.com/dbco5pn5v/image/upload/v1752722115/weekend_plan_erxeoq.png" alt="Weekend casual outfit" class="w-full h-96 object-cover group-hover:scale-105 transition-transform duration-500"><div class="p-6"><h3 class="text-2xl font-bold mb-2">Weekend Casual</h3><p class="text-gray-600">Elevated comfort featuring premium denim and a cashmere knit.</p></div></div>
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden group"><img src="https://res.cloudinary.com/dbco5pn5v/image/upload/v1752722269/Office_satin_shirt_xkmfws.png" alt="Office power look" class="w-full h-96 object-cover group-hover:scale-105 transition-transform duration-500"><div class="p-6"><h3 class="text-2xl font-bold mb-2">Office Power</h3><p class="text-gray-600">A modern take on workwear with a structured blazer and silk blouse.</p></div></div>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-8 md:p-12"><h3 class="text-3xl font-bold text-center mb-2">✨ Your Personal AI Stylist</h3><p class="text-center text-gray-600 mb-6">Stuck in a style rut? Describe an occasion and a few items you own, and get an instant outfit idea.</p><textarea id="style-input" class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400" rows="4" placeholder="e.g., Occasion: brunch with friends. Items: high-waisted jeans, white t-shirt, black blazer..."></textarea><div class="text-center mt-6"><button id="generate-style-btn" class="btn-primary">Generate Outfit Idea</button></div><div id="style-result" class="mt-6"></div></div>
            </section>

            <!-- Wellness Section -->
            <section id="wellness" class="mb-20 scroll-mt-20">
                <h2 class="text-5xl font-bold mb-10 text-center">Mindful Wellness</h2>
                <div class="grid md:grid-cols-1 gap-8 mb-16 max-w-md mx-auto">
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden group"><img src="https://res.cloudinary.com/dbco5pn5v/image/upload/v1752724932/peanut_thai_noodles_wrsae6.jpg" alt="A delicious bowl of peanut thai noodles" class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-500"><div class="p-6"><h3 class="text-2xl font-bold mb-2">Peanut Thai Noodles</h3><p class="text-gray-600 mb-4">A quick, flavorful, and satisfying noodle dish for any night of the week.</p><a href="#" class="text-black hover:underline font-semibold recipe-link" data-recipe-id="peanutNoodles">Get the Recipe &rarr;</a></div></div>
                </div>
                 <div class="bg-white rounded-lg shadow-lg p-8 md:p-12"><h3 class="text-3xl font-bold text-center mb-2">✨ AI Recipe Creator</h3><p class="text-center text-gray-600 mb-6">What's in your fridge? List your ingredients and get a custom, healthy recipe in seconds.</p><textarea id="wellness-input" class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400" rows="4" placeholder="e.g., chicken breast, broccoli, lemon, quinoa, garlic..."></textarea><div class="text-center mt-6"><button id="generate-wellness-btn" class="btn-primary">Create My Recipe</button></div><div id="wellness-result" class="mt-6"></div></div>
            </section>
            
            <!-- Period Care Section -->
            <section id="period-care" class="mb-20 scroll-mt-20">
                <h2 class="text-5xl font-bold mb-10 text-center">Period Care</h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden group">
                        <img src="https://res.cloudinary.com/dbco5pn5v/image/upload/v1752796819/Tampons_pjptuz.jpg" alt="A box of tampons for emergency situations" class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-500">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold mb-3">The "Just-in-Case" Tampon</h3>
                            <p class="text-gray-600">My rule of thumb: always keep one emergency tampon in every bag. I usually use a menstrual cup, but I forgot to restock my work bag today and it was so hectic! A little planning saves you from that kind of stress.</p>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden group">
                        <img src="https://res.cloudinary.com/dbco5pn5v/image/upload/v1752796818/cup_steamer_bs7xaj.jpg" alt="An electric menstrual cup sterilizer" class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-500">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold mb-3">My Journey to a Better Period</h3>
                            <p class="text-gray-600 mb-4">Finding the right period product can be a long journey. Here's my story and why I'll never go back.</p>
                            <a href="#" id="debate-link" class="text-black hover:underline font-semibold">Read My Story &rarr;</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Gallery Section -->
            <section id="gallery" class="mb-20 scroll-mt-20">
                <h2 class="text-5xl font-bold mb-10 text-center">Gallery</h2>
                <div class="relative">
                    <div id="slider-container" class="flex overflow-x-auto snap-x snap-mandatory scroll-smooth cursor-grab active:cursor-grabbing">
                        <!-- Slides will be injected here by JavaScript -->
                    </div>
                    <button id="prev-slide" class="slider-button left-2 hidden md:block"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button>
                    <button id="next-slide" class="slider-button right-2 hidden md:block"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>
                </div>
                 <p class="text-center text-gray-500 text-sm mt-2 md:hidden">Swipe for more &rarr;</p>
            </section>

            <!-- Booking Section -->
            <section id="booking" class="mb-20 scroll-mt-20 bg-white rounded-lg p-8 md:p-12 shadow-lg">
                <h2 class="text-5xl font-bold mb-4 text-center">Book a Friendly Chat</h2>
                <p class="text-center text-gray-600 max-w-3xl mx-auto mb-8">Just to be clear, I am not an advisor or psychologist. I am here to listen if you wanna share anything or you have any ideas. Think of this as a friendly meet, where we can discuss if you need a friend, if you are demotivated and you want me to give any suggestions.</p>
                <form action="https://formspree.io/f/xovlveya" method="POST" class="max-w-xl mx-auto"><div class="mb-4"><input type="text" name="name" placeholder="Full Name" class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400" required></div><div class="mb-4"><input type="email" name="email" placeholder="Email Address" class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400" required></div><div class="mb-6"><textarea name="message" placeholder="Purpose of Chat" rows="5" class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400" required></textarea></div><div class="text-center"><button type="submit" class="btn-primary">Request a Chat</button></div></form>
            </section>
        </div>
    </div>

    <!-- Recipe Detail Page (Hidden by default) -->
    <div id="recipe-detail-page" class="hidden"><div class="container mx-auto px-6 py-12"><button id="back-to-main-recipe" class="mb-8 text-stone-800 hover:text-black font-semibold flex items-center">&larr; <span class="ml-2">Back to Main</span></button><h2 id="recipe-title" class="text-5xl md:text-6xl font-bold mb-8 text-center"></h2><div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start"><div><img id="recipe-main-image" src="" alt="Main recipe photo" class="w-full rounded-lg shadow-xl mb-4"></div><div class="prose max-w-none"><h3 class="text-3xl !mb-4">Ingredients</h3><ul id="recipe-ingredients" class="!mt-0"></ul><h3 class="text-3xl !mt-8 !mb-4">Instructions</h3><ol id="recipe-instructions" class="!mt-0"></ol></div></div></div></div>
    
    <!-- Debate Detail Page (Hidden by default) -->
    <div id="debate-detail-page" class="hidden"><div class="container mx-auto px-6 py-12"><button id="back-to-main-debate" class="mb-8 text-stone-800 hover:text-black font-semibold flex items-center">&larr; <span class="ml-2">Back to Main</span></button><h2 class="text-5xl md:text-6xl font-bold mb-8 text-center">My Journey to a Better Period</h2><div class="prose max-w-4xl mx-auto"><p>Let's talk about something we all go through, but often in silence: finding the right period products. My journey has been a long one, and I want to share it in case it helps you.</p><h3>The Pad Phase: Rashes and Worries</h3><p>Like many, I started with sanitary pads. While they're simple, my experience wasn't great. I found them uncomfortable and often got rashes. Beyond the physical discomfort, they were expensive month after month, and I constantly worried about stains and waste.</p><h3>The Tampon Upgrade: Better, But Not Perfect</h3><p>Moving on to tampons was a step up. They were definitely easier to carry and avoided the rash issue. But I still had occasional leaks and staining, which meant the worry wasn't completely gone. They were still a monthly expense and generated waste.</p><h3>The Menstrual Cup: A True Game-Changer</h3><p>Then I discovered the menstrual cup, and it has been an excellent choice. It's leak-proof, there are no rashes, and absolutely no drama. But my journey with it wasn't perfect from the start—it was all about the cleaning.</p><h4>The Sterilization Struggle</h4><p>At first, I sterilized my cup by boiling it in a pot on the stove. I was always terrified it was going to melt, and honestly, using kitchen silverware for this felt unhygienic and awkward. Then I tried a silicone sterilizing box for the microwave. That was better, but using the same microwave for my food right after felt strange and still a bit awkward.</p><div class="bg-rose-50 border-l-4 border-rose-200 p-4 rounded-r-lg my-6"><strong>The Perfect Solution:</strong> Finally, I found an electric sterilizing cup. This was the missing piece! You just add a little water, plug it in, and it's done. It's completely separate from my kitchen, it's discreet, and it's incredibly easy. It took away all the awkwardness and made using a menstrual cup the simple, stress-free experience it was meant to be. For me, it's the absolute best choice.</div><hr><h3 class="!mt-12">Join the Conversation</h3><p>What's your go-to and why? Share your experiences and tips with the community!</p><div id="comment-section" class="mt-8"></div><div class="mt-8"><textarea id="comment-input" class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400" rows="4" placeholder="Share your thoughts..."></textarea><div class="text-right mt-4"><button id="submit-comment-btn" class="btn-primary">Submit Comment</button></div></div></div></div></div>

    <!-- Footer -->
    <footer class="bg-white mt-16 border-t"><div class="container mx-auto px-6 py-10 text-center text-gray-600"><div class="flex justify-center space-x-6 mb-6"><a href="https://www.instagram.com/timely.ll" target="_blank" rel="noopener noreferrer" class="hover:text-black">Instagram</a><a href="https://www.pinterest.com/akamshareddy" target="_blank" rel="noopener noreferrer" class="hover:text-black">Pinterest</a></div><p class="text-sm">&copy; 2024 Sincerely, Her. A guide to intentional living.</p></div></footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const firebaseConfig = {
          apiKey: "AIzaSyD22DnC06JQq2x0dGO-d2D0F6TiR29h2zE",
          authDomain: "sincerelyher-3fea8.firebaseapp.com",
          projectId: "sincerelyher-3fea8",
          storageBucket: "sincerelyher-3fea8.firebasestorage.app",
          messagingSenderId: "293545833232",
          appId: "1:293545833232:web:1a9204f45d2146ab376b95"
        };
        
        const appId = 'sincerely-her-app';

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        let userId = null;

        async function authUser() {
            if (auth.currentUser) {
                userId = auth.currentUser.uid;
                return;
            };
            try {
                const userCredential = await signInAnonymously(auth);
                userId = userCredential.user.uid;
            } catch (error) {
                console.error("Anonymous Authentication Error:", error);
            }
        }
        
        const mainContent = document.getElementById('main-content');
        const recipeDetailPage = document.getElementById('recipe-detail-page');
        const debateDetailPage = document.getElementById('debate-detail-page');
        const backToMainRecipeBtn = document.getElementById('back-to-main-recipe');
        const backToMainDebateBtn = document.getElementById('back-to-main-debate');
        const homeLink = document.getElementById('home-link');
        const debateLink = document.getElementById('debate-link');

        const recipes = {
            peanutNoodles: { title: "Peanut Thai Noodles with Pesto Bread", images: ["https://res.cloudinary.com/dbco5pn5v/image/upload/v1752724932/peanut_thai_noodles_wrsae6.jpg"], ingredients: ["Linguine pasta", "1/2 cup peanut butter", "3 tbsp soy sauce", "2 tbsp rice vinegar", "1 tbsp sriracha (or to taste)", "1 tbsp honey", "1/4 cup water", "1 tsp corn flour", "1 tbsp avocado oil", "1 cup broccoli florets", "1/2 onion, sliced", "For Pesto Bread: Sliced bread, store-bought pesto (from Whole Foods or similar), shredded mozzarella cheese"], instructions: ["Cook linguine pasta according to package directions. Drain and set aside.", "In a medium bowl, whisk together peanut butter, soy sauce, rice vinegar, sriracha, honey, water, and corn flour until smooth.", "In a large skillet or wok, heat avocado oil over medium-high heat. Add the sliced onions and broccoli, and sauté until tender-crisp, about 5-7 minutes.", "Add the cooked pasta and peanut sauce to the skillet with the vegetables. Toss everything together until the pasta and vegetables are well-coated in the sauce.", "For the pesto bread: spread a layer of pesto on your bread slices, top with shredded mozzarella, and toast in an oven or toaster oven until the cheese is golden and bubbly.", "Serve noodles immediately with the pesto bread on the side."]}
        };

        function showPage(page) {
            window.scrollTo(0, 0);
            mainContent.classList.add('hidden');
            recipeDetailPage.classList.add('hidden');
            debateDetailPage.classList.add('hidden');
            if (page === 'recipe') recipeDetailPage.classList.remove('hidden');
            else if (page === 'debate') debateDetailPage.classList.remove('hidden');
            else mainContent.classList.remove('hidden');
        }

        function loadRecipe(recipeId) {
            const recipe = recipes[recipeId];
            if (!recipe) return;
            document.getElementById('recipe-title').textContent = recipe.title;
            document.getElementById('recipe-main-image').src = recipe.images[0];
            const ingredientsList = document.getElementById('recipe-ingredients');
            ingredientsList.innerHTML = '';
            recipe.ingredients.forEach(item => { const li = document.createElement('li'); li.textContent = item; ingredientsList.appendChild(li); });
            const instructionsList = document.getElementById('recipe-instructions');
            instructionsList.innerHTML = '';
            recipe.instructions.forEach(step => { const li = document.createElement('li'); li.textContent = step; instructionsList.appendChild(li); });
            showPage('recipe');
        }

        document.querySelectorAll('.recipe-link').forEach(link => {
            link.addEventListener('click', (e) => { e.preventDefault(); const recipeId = e.currentTarget.dataset.recipeId; loadRecipe(recipeId); });
        });

        debateLink.addEventListener('click', (e) => { e.preventDefault(); showPage('debate'); });
        backToMainRecipeBtn.addEventListener('click', () => showPage('main'));
        backToMainDebateBtn.addEventListener('click', () => showPage('main'));
        homeLink.addEventListener('click', (e) => { e.preventDefault(); showPage('main'); });
        
        document.querySelectorAll('.main-nav-link').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                showPage('main');
                setTimeout(() => { document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' }); }, 100);
            });
        });

        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); });

        const styleBtn = document.getElementById('generate-style-btn');
        const wellnessBtn = document.getElementById('generate-wellness-btn');
        const styleInput = document.getElementById('style-input');
        const wellnessInput = document.getElementById('wellness-input');
        const styleResult = document.getElementById('style-result');
        const wellnessResult = document.getElementById('wellness-result');
        
        const apiKey = "AIzaSyDqxykGMcKCcrMJjA2ktuWIlrY3piiTUIg";

        async function callGeminiAPI(prompt, resultElement, buttonElement) {
            if (apiKey === "PASTE_YOUR_GOOGLE_AI_API_KEY_HERE" || !apiKey) {
                 resultElement.innerHTML = `<div class="ai-result" style="border-color: #ef4444;">Please add a valid API key to the code to use this feature.</div>`;
                 return;
            }
            resultElement.innerHTML = '<div class="ai-result">Generating...</div>';
            buttonElement.disabled = true;
            try {
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                if (!response.ok) { throw new Error(`API request failed with status ${response.status}`); }
                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    resultElement.innerHTML = `<div class="ai-result">${text}</div>`;
                } else { throw new Error("Invalid response structure from API."); }
            } catch (error) {
                console.error("Gemini API Error:", error);
                resultElement.innerHTML = `<div class="ai-result" style="border-color: #ef4444;">Sorry, something went wrong. Please try again.</div>`;
            } finally {
                buttonElement.disabled = false;
            }
        }

        styleBtn.addEventListener('click', () => {
            const userInput = styleInput.value;
            if (!userInput.trim()) return;
            const prompt = `You are a chic and modern fashion stylist for a blog called "Sincerely, Her". A user needs an outfit idea. User's request: "${userInput}". Based on their request, create a detailed outfit description in a friendly, blog-like tone. Suggest specific types of clothing, shoes, and accessories to complete the look.`;
            callGeminiAPI(prompt, styleResult, styleBtn);
        });

        wellnessBtn.addEventListener('click', () => {
            const userInput = wellnessInput.value;
            if (!userInput.trim()) return;
            const prompt = `You are a creative and health-conscious chef for a blog called "Sincerely, Her". A user has listed ingredients they have on hand. User's ingredients: "${userInput}". Based on these ingredients, create a simple, healthy, and delicious recipe. Format the response clearly with a "Recipe Name", a brief "Description", a list of "Ingredients", and step-by-step "Instructions".`;
            callGeminiAPI(prompt, wellnessResult, wellnessBtn);
        });

        // Firestore Comment Section Logic
        const commentInput = document.getElementById('comment-input');
        const submitCommentBtn = document.getElementById('submit-comment-btn');
        const commentSection = document.getElementById('comment-section');

        async function initComments() {
            await authUser();
            const commentsCollectionPath = `/artifacts/${appId}/public/data/period_debate_comments`;
            const q = query(collection(db, commentsCollectionPath));

            onSnapshot(q, (snapshot) => {
                const comments = [];
                snapshot.forEach(doc => comments.push({ id: doc.id, ...doc.data() }));
                // Sort by timestamp, newest first
                comments.sort((a, b) => (b.timestamp?.toDate() || 0) - (a.timestamp?.toDate() || 0));
                renderComments(comments);
            });

            submitCommentBtn.addEventListener('click', async () => {
                const commentText = commentInput.value.trim();
                if (commentText && userId) {
                    try {
                        await addDoc(collection(db, commentsCollectionPath), {
                            text: commentText,
                            author: userId,
                            timestamp: serverTimestamp()
                        });
                        commentInput.value = '';
                    } catch (error) {
                        console.error("Error adding comment: ", error);
                    }
                }
            });
        }

        function renderComments(comments) {
            commentSection.innerHTML = '';
            if (comments.length === 0) {
                commentSection.innerHTML = '<p class="text-gray-500">Be the first to comment!</p>';
                return;
            }
            comments.forEach(comment => {
                const commentEl = document.createElement('div');
                commentEl.className = 'bg-stone-100 p-4 rounded-lg mb-4';
                
                const authorEl = document.createElement('p');
                authorEl.className = 'text-xs text-gray-500 font-semibold truncate';
                authorEl.textContent = `User: ${comment.author}`;

                const textEl = document.createElement('p');
                textEl.className = 'text-gray-800';
                textEl.textContent = comment.text;

                commentEl.appendChild(authorEl);
                commentEl.appendChild(textEl);
                commentSection.appendChild(commentEl);
            });
        }

        initComments();

        // Gallery Slider Logic
        const galleryData = [
            { "img": "https://res.cloudinary.com/dbco5pn5v/image/upload/v1752798499/Noi_Thai_Seattle_WA_t7x5lr.jpg", "desc": "Noi Thai, Seattle Downtown, WA." },
            { "img": "https://res.cloudinary.com/dbco5pn5v/image/upload/v1752798499/Neighborhood_Services_Creamy_peanut_chicken_vvljus.jpg", "desc": "Neighborhood Services, Dallas, TX. Village on the Parkway is the best complex." },
            { "img": "https://res.cloudinary.com/dbco5pn5v/image/upload/v1752798499/Milkweed_Boston_French_Breakfast_b2bddb.jpg", "desc": "Milkweed, Boston, MA best breakfast place." },
            { "img": "https://res.cloudinary.com/dbco5pn5v/image/upload/v1752798498/Jinya_Ramen_Bellevue_WA_xrwlk7.jpg", "desc": "Jinya Ramen, Bellevue, WA. The creamy shrimp was amazing." },
            { "img": "https://res.cloudinary.com/dbco5pn5v/image/upload/v1752798498/Chicken_n_Pickle_Plano_Texas_afttos.jpg", "desc": "Chicken 'N' Pickle, Grapevine, TX. Amazing to hangout with friends." },
            { "img": "https://res.cloudinary.com/dbco5pn5v/image/upload/v1752798496/Brother_Birthday_with_little_Paris_Bugette_surprise_g1dy1d.jpg", "desc": "My brother's birthday, with a tiny slice of cake and cute chocolate croissant." }
        ];

        const sliderContainer = document.getElementById('slider-container');
        
        galleryData.forEach(item => {
            const slide = document.createElement('div');
            slide.className = 'w-full md:w-1/2 lg:w-1/3 flex-shrink-0 p-2 snap-center';
            slide.innerHTML = `
                <div class="bg-white rounded-lg shadow-lg overflow-hidden group">
                    <img src="${item.img}" alt="${item.desc}" class="w-full h-80 object-cover pointer-events-none group-hover:scale-105 transition-transform duration-500">
                    <div class="p-4"><p class="text-center text-gray-600 truncate">${item.desc}</p></div>
                </div>
            `;
            sliderContainer.appendChild(slide);
        });
        
        const prevButton = document.getElementById('prev-slide');
        const nextButton = document.getElementById('next-slide');
        
        nextButton.addEventListener('click', () => {
            const slideWidth = sliderContainer.querySelector('div').clientWidth;
            sliderContainer.scrollBy({ left: slideWidth, behavior: 'smooth' });
        });

        prevButton.addEventListener('click', () => {
            const slideWidth = sliderContainer.querySelector('div').clientWidth;
            sliderContainer.scrollBy({ left: -slideWidth, behavior: 'smooth' });
        });

        let isDown = false;
        let startX;
        let scrollLeft;

        sliderContainer.addEventListener('mousedown', (e) => {
          isDown = true;
          sliderContainer.classList.add('active:cursor-grabbing');
          startX = e.pageX - sliderContainer.offsetLeft;
          scrollLeft = sliderContainer.scrollLeft;
        });
        sliderContainer.addEventListener('mouseleave', () => {
          isDown = false;
          sliderContainer.classList.remove('active:cursor-grabbing');
        });
        sliderContainer.addEventListener('mouseup', () => {
          isDown = false;
          sliderContainer.classList.remove('active:cursor-grabbing');
        });
        sliderContainer.addEventListener('mousemove', (e) => {
          if(!isDown) return;
          e.preventDefault();
          const x = e.pageX - sliderContainer.offsetLeft;
          const walk = (x - startX) * 2; 
          sliderContainer.scrollLeft = scrollLeft - walk;
        });

    </script>

</body>
</html>
